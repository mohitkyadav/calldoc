{% extends 'base.html' %}

{% block title %}
    MedTour | Settings
{% endblock %}

{% block body %}
  <h2 class="uk-text-bold uk-text-center uk-padding-small">Settings</h2>

    <div class="uk-card uk-card-default uk-width-1-2@m uk-text-center uk-card-body uk-align-center uk-margin-medium-top uk-margin-auto-bottom">
        <h3>Google <span uk-icon="icon: google; ratio: 1.5"></span></h3>
        {% if google_login %}
          <p>Connected as <a href="https://google.com/{{ google_login.extra_data.id }}/" target="_blank">{{ google_login.extra_data.id }}</a></p>
          {% if can_disconnect %}
            <form method="post" action="{% url 'social:disconnect' 'google-oauth2' %}">
              {% csrf_token %}
              <button class="uk-button uk-button-danger" type="submit">Disconnect from Google</button>
            </form>
          {% else %}
            <button class="uk-button uk-button-danger" type="button" disabled>Disconnect from Google</button>
            <p class="uk-text-danger">You must <a href="{% url 'password' %}">define a password</a> for your account before disconnecting from Google.</p>
          {% endif %}
        {% else %}
          <a class="uk-button uk-button-primary" href="{% url 'social:begin' 'google-oauth2' %}">Connect to Google</a>
        {% endif %}
    </div>

    <div class="uk-card uk-card-default uk-width-1-2@m uk-text-center uk-card-body uk-align-center uk-margin-medium-top uk-margin-auto-bottom">
        <h3>Twitter <span uk-icon="icon: twitter; ratio: 1.5"></span></h3>
          {% if twitter_login %}
            <p>Connected as <a href="https://twitter.com/{{ twitter_login.extra_data.access_token.screen_name }}/" target="_blank">@{{ twitter_login.extra_data.access_token.screen_name }}</a></p>
            {% if can_disconnect %}
              <form method="post" action="{% url 'social:disconnect' 'twitter' %}">
                {% csrf_token %}
                <button class="uk-button uk-button-danger" type="submit">Disconnect from Twitter</button>
              </form>
            {% else %}
              <button class="uk-button uk-button-danger" type="button" disabled>Disconnect from Twitter</button>
              <p class="uk-text-danger">You must <a href="{% url 'password' %}">define a password</a> for your account before disconnecting from Twitter.</p>
            {% endif %}
          {% else %}
            <a class="uk-button uk-button-primary" href="{% url 'social:begin' 'twitter' %}">Connect to Twitter</a>
          {% endif %}
    </div>

    <div class="uk-card uk-card-default uk-width-1-2@m uk-text-center uk-card-body uk-align-center uk-margin-medium-top uk-margin-auto-bottom">
        <h3>Facebook <span uk-icon="icon: facebook; ratio: 1.5"></span></h3>
        {% if facebook_login %}
          <p>Connected as <a href="https://facebook.com/{{ facebook_login.extra_data.id }}/" target="_blank">{{ facebook_login.extra_data.id }}</a></p>
          {% if can_disconnect %}
            <form method="post" action="{% url 'social:disconnect' 'facebook' %}">
              {% csrf_token %}
              <button class="uk-button uk-button-danger" type="submit">Disconnect from Facebook</button>
            </form>
          {% else %}
            <button class="uk-button uk-button-danger" type="button" disabled>Disconnect from Facebook</button>
            <p class="uk-text-danger">You must <a href="{% url 'password' %}">define a password</a> for your account before disconnecting from Facebook.</p>
          {% endif %}
        {% else %}
          <a class="uk-button uk-button-primary" href="{% url 'social:begin' 'facebook' %}">Connect to Facebook</a>
        {% endif %}
    </div>

    <div class="uk-card uk-card-default uk-width-1-2@m uk-text-center uk-card-body uk-align-center uk-margin-medium-top uk-margin-auto-bottom">
        <h3>GitHub <span uk-icon="icon: github; ratio: 1.5"></span></h3>
        {% if github_login %}
            <p>Connected as <a href="https://github.com/{{ github_login.extra_data.login }}/" target="_blank">{{ github_login.extra_data.login }}</a></p>
            {% if can_disconnect %}
              <form method="post" action="{% url 'social:disconnect' 'github' %}">
                {% csrf_token %}
                <button class="uk-button uk-button-danger" type="submit">Disconnect from GitHub</button>
              </form>
            {% else %}
              <button class="uk-button uk-button-danger" type="button" disabled>Disconnect from GitHub</button>
              <p class="uk-text-danger">You must <a href="{% url 'password' %}">define a password</a> for your account before disconnecting from Github.</p>
            {% endif %}
        {% else %}
            <a class="uk-button uk-button-primary" href="{% url 'social:begin' 'github' %}">Connect to GitHub</a>
        {% endif %}
    </div>

{% endblock %}
